<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Authentification - HotMeet</title>
    <link rel="stylesheet" href="/css/style.css?v=6" />
    <link rel="stylesheet" href="/css/pages.css?v=1" />
    <link rel="stylesheet" href="/css/animations.css" />
    <!-- V√©rification d'√¢ge globale -->
    <script src="/js/age-verification.js"></script>
  </head>
  <body>
    <!-- Modal de v√©rification d'√¢ge -->
    <div id="ageVerificationModal" class="age-modal">
      <div class="age-modal-content">
        <div class="age-modal-header">
          <h2>V√©rification d'√¢ge requise</h2>
        </div>
        <div class="age-modal-body">
          <p>Ce site est r√©serv√© aux adultes de 18 ans et plus.</p>
          <p>
            En cliquant sur "J'ai plus de 18 ans", vous confirmez que vous √™tes
            majeur et acceptez nos conditions d'utilisation.
          </p>
          <div class="age-verification-actions">
            <button class="btn-primary" id="confirmAgeBtn">
              J'ai plus de 18 ans
            </button>
            <button class="btn-secondary" id="exitSiteBtn">
              Quitter le site
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Header -->
    <header class="header">
      <nav class="nav">
        <a href="/" class="nav-brand">
          <img
            src="/images/logo-hotmeet.png"
            alt="HotMeet - Rencontres Adultes Premium"
            class="logo-img"
          />
          <span class="logo-text">HotMeet</span>
        </a>

        <div class="nav-menu" id="navMenu">
          <a href="/" class="nav-link">Accueil</a>
          <a href="/directory" class="nav-link">Annuaire</a>
          <a href="/ads" class="nav-link">Annonces</a>
          <a href="/tonight" class="nav-link">Ce Soir</a>
          <a href="/cam" class="nav-link">Cam-to-Cam</a>
          <a href="/messages" class="nav-link">Messages</a>
          <a href="/profile" class="nav-link">Mon Profil</a>
        </div>

        <div class="nav-actions">
          <button class="btn-secondary" id="loginBtn">Connexion</button>
          <button class="btn-primary" id="registerBtn">Inscription</button>
          <div class="mobile-menu-toggle" id="mobileMenuToggle">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="pages-container auth-container">
      <div class="container">
        <div class="auth-tabs" id="authTabs">
          <button class="tab-btn active" data-tab="login">Connexion</button>
          <button class="tab-btn" data-tab="register">Inscription</button>
        </div>

        <!-- Formulaire de connexion -->
        <div class="auth-card active" id="loginCard">
          <div class="auth-header">
            <h2>Connexion</h2>
            <p>Acc√©dez √† votre compte HotMeet</p>
          </div>

          <form id="loginForm" class="auth-form">
            <div class="form-group">
              <label for="email">Email</label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="form-input"
              />
            </div>

            <div class="form-group">
              <label for="password">Mot de passe</label>
              <input
                type="password"
                id="password"
                name="password"
                required
                class="form-input"
              />
            </div>

            <button type="submit" class="btn-primary auth-submit">
              Se connecter
            </button>

            <div class="forgot-password-link">
              <a href="#" id="forgotPasswordLink">Mot de passe oubli√© ?</a>
            </div>
          </form>

          <div class="auth-footer">
            <p>
              Pas encore de compte ?
              <a href="#" class="auth-link switch-tab" data-tab="register"
                >S'inscrire</a
              >
            </p>
          </div>
        </div>

        <!-- Formulaire d'inscription -->
        <div class="auth-card" id="registerCard">
          <div class="auth-header">
            <h2>Inscription</h2>
            <p>Cr√©ez votre compte HotMeet</p>
            <p
              class="annuaire-mention"
              style="color: #8a2be2; font-weight: 600; margin-top: 0.5rem"
            >
              ‚úÖ Votre profil sera automatiquement publi√© dans l'annuaire des
              membres
            </p>
          </div>

          <form id="registerForm" class="auth-form">
            <div class="form-group">
              <label for="registerEmail">Email</label>
              <input
                type="email"
                id="registerEmail"
                name="email"
                required
                class="form-input"
              />
            </div>

            <div class="form-group">
              <label for="registerPassword">Mot de passe</label>
              <input
                type="password"
                id="registerPassword"
                name="password"
                required
                class="form-input"
                minlength="6"
              />
              <small>Minimum 6 caract√®res</small>
            </div>

            <div class="form-group">
              <label for="confirmPassword">Confirmer le mot de passe</label>
              <input
                type="password"
                id="confirmPassword"
                name="confirmPassword"
                required
                class="form-input"
              />
            </div>

            <div class="form-group">
              <label for="nom">Nom d'utilisateur</label>
              <input
                type="text"
                id="nom"
                name="nom"
                required
                class="form-input"
                minlength="2"
                maxlength="50"
              />
            </div>

            <div class="form-group">
              <label for="age">√Çge</label>
              <input
                type="number"
                id="age"
                name="age"
                required
                class="form-input"
                min="18"
                max="100"
              />
            </div>

            <div class="form-group">
              <label for="sexe">Sexe</label>
              <select id="sexe" name="sexe" required class="form-input">
                <option value="">Choisir...</option>
                <option value="homme">Homme</option>
                <option value="femme">Femme</option>
                <option value="autre">Autre</option>
              </select>
            </div>

            <div class="form-group">
              <label for="pays">Pays</label>
              <select id="pays" name="pays" required class="form-input">
                <option value="">Choisir un pays...</option>
                <option value="france">France</option>
                <option value="suisse">Suisse</option>
                <option value="belgique">Belgique</option>
                <option value="allemagne">Allemagne</option>
                <option value="italie">Italie</option>
                <option value="espagne">Espagne</option>
                <option value="portugal">Portugal</option>
                <option value="pays-bas">Pays-Bas</option>
                <option value="luxembourg">Luxembourg</option>
                <option value="autriche">Autriche</option>
                <option value="royaume-uni">Royaume-Uni</option>
                <option value="irlande">Irlande</option>
                <option value="danemark">Danemark</option>
                <option value="suede">Su√®de</option>
                <option value="norvege">Norv√®ge</option>
                <option value="finlande">Finlande</option>
                <option value="pologne">Pologne</option>
                <option value="republique-tcheque">R√©publique Tch√®que</option>
                <option value="slovaquie">Slovaquie</option>
                <option value="hongrie">Hongrie</option>
                <option value="roumanie">Roumanie</option>
                <option value="bulgarie">Bulgarie</option>
                <option value="grece">Gr√®ce</option>
                <option value="croatie">Croatie</option>
                <option value="slovenie">Slov√©nie</option>
                <option value="estonie">Estonie</option>
                <option value="lettonie">Lettonie</option>
                <option value="lituanie">Lituanie</option>
                <option value="malte">Malte</option>
                <option value="chypre">Chypre</option>
              </select>
            </div>

            <div class="form-group">
              <label for="region">R√©gion</label>
              <select id="region" name="region" required class="form-input">
                <option value="">Choisir une r√©gion...</option>
                <!-- Les r√©gions seront charg√©es dynamiquement selon le pays -->
              </select>
            </div>

            <div class="form-group">
              <label for="ville">Ville</label>
              <input
                type="text"
                id="ville"
                name="ville"
                required
                class="form-input"
                placeholder="Nom de la ville"
              />
            </div>

            <div class="form-group">
              <label for="bio">Bio (optionnel)</label>
              <textarea
                id="bio"
                name="bio"
                class="form-input"
                rows="3"
                maxlength="500"
                placeholder="D√©crivez-vous en quelques mots..."
              ></textarea>
              <small>Maximum 500 caract√®res</small>
            </div>

            <div class="form-group">
              <label>Photo de profil</label>
              <div class="photo-upload">
                <input
                  type="file"
                  id="profilePhoto"
                  name="profilePhoto"
                  accept="image/*"
                  class="photo-input"
                />
                <label for="profilePhoto" class="photo-upload-btn">
                  <span>üì∑ Choisir une photo</span>
                </label>
                <div class="photo-preview" id="profilePhotoPreview"></div>
              </div>
              <div class="form-group" style="margin-top: 1rem">
                <label class="checkbox-label">
                  <input type="checkbox" id="blurPhoto" name="blurPhoto" />
                  <span>Flouter ma photo pour plus de confidentialit√©</span>
                </label>
                <small style="display: block; margin-top: 0.5rem; color: #666">
                  Les autres utilisateurs devront demander √† voir votre photo
                  non flout√©e
                </small>
              </div>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  id="acceptTerms"
                  name="acceptTerms"
                  required
                />
                <span
                  >J'accepte les
                  <a href="/legal" target="_blank">conditions d'utilisation</a>
                  et la
                  <a href="/legal#privacy" target="_blank"
                    >politique de confidentialit√©</a
                  ></span
                >
              </label>
            </div>

            <button type="submit" class="btn-primary auth-submit">
              Cr√©er mon compte
            </button>
          </form>

          <div class="auth-footer">
            <p>
              D√©j√† un compte ?
              <a href="#" class="auth-link switch-tab" data-tab="login"
                >Se connecter</a
              >
            </p>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-bottom">
          <p>
            &copy; 2024 HotMeet. Tous droits r√©serv√©s. R√©serv√© aux adultes de 18
            ans et plus.
          </p>
        </div>
      </div>
    </footer>

    <!-- JavaScript pour les r√©gions europ√©ennes -->
    <script src="/js/regions-europe.js"></script>

    <!-- JavaScript pour l'authentification -->
    <script src="/js/auth.js"></script>

    <!-- Script pour la v√©rification d'√¢ge -->
    <script>
      // V√©rification d'√¢ge
      document.addEventListener('DOMContentLoaded', function () {
        const ageModal = document.getElementById('ageVerificationModal');
        const confirmAgeBtn = document.getElementById('confirmAgeBtn');
        const exitSiteBtn = document.getElementById('exitSiteBtn');

        // V√©rifier si l'√¢ge a d√©j√† √©t√© confirm√©
        if (!localStorage.getItem('ageVerified')) {
          // Afficher la modale apr√®s un court d√©lai
          setTimeout(() => {
            ageModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
          }, 500);
        }

        // Confirmer l'√¢ge
        confirmAgeBtn.addEventListener('click', function () {
          localStorage.setItem('ageVerified', 'true');
          ageModal.style.display = 'none';
          document.body.style.overflow = 'auto';
        });

        // Quitter le site
        exitSiteBtn.addEventListener('click', function () {
          window.location.href = 'https://www.google.com';
        });

        // Emp√™cher la fermeture de la modale
        ageModal.addEventListener('click', function (e) {
          if (e.target === ageModal) {
            return false;
          }
        });
      });
    </script>

    <style>
      /* Styles pour la modale de v√©rification d'√¢ge */
      .age-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 9999;
        align-items: center;
        justify-content: center;
      }

      .age-modal-content {
        background: white;
        border-radius: 15px;
        padding: 2rem;
        max-width: 500px;
        width: 90%;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .age-modal-header h2 {
        color: #8a2be2;
        margin-bottom: 1rem;
        font-size: 1.8rem;
      }

      .age-modal-body p {
        margin-bottom: 1rem;
        line-height: 1.6;
        color: #333;
      }

      .age-verification-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-top: 2rem;
        flex-wrap: wrap;
      }

      .age-verification-actions .btn-primary {
        background: #8a2be2;
        border: none;
        padding: 1rem 2rem;
        border-radius: 8px;
        color: white;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.3s;
      }

      .age-verification-actions .btn-primary:hover {
        background: #7b1fa2;
      }

      .age-verification-actions .btn-secondary {
        background: #6c757d;
        border: none;
        padding: 1rem 2rem;
        border-radius: 8px;
        color: white;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.3s;
      }

      .age-verification-actions .btn-secondary:hover {
        background: #545b62;
      }

      @media (max-width: 768px) {
        .age-modal-content {
          padding: 1.5rem;
        }

        .age-verification-actions {
          flex-direction: column;
        }

        .age-verification-actions button {
          width: 100%;
        }
      }
    </style>
  </body>
</html>
